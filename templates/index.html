<!doctype html>

<html lang="en">
<head>

   
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdn.muicss.com/mui-0.10.2/extra/mui-colors.min.css">
    <script src="//cdn.muicss.com/mui-0.10.2/extra/mui-combined.min.js"></script>
       

    <title>Digit reader</title>

  <!-- Latest Bootstrap CSS -->
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="static/css/styles.css" /> -->


  <!-- load MUI -->
    <link href="//cdn.muicss.com/mui-0.10.2/css/mui.min.css" rel="stylesheet" type="text/css" />
    <script src="//cdn.muicss.com/mui-0.10.2/js/mui.min.js"></script>
  
  <!-- fabric.js library -->
    <script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.4.0/fabric.min.js'></script>

    <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>


    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
            

  <!-- Going to use JQuery so its good to have library locally -->
  <!-- <script type='text/javascript' src="static/js/jquery-3.2.1.min.js"></script> -->
        <script type='text/javascript'>

            
            var canvas;
            var image;
            var bThick = 10;
            var cColour = '#FFFFFF'; // #black

            //Initialize  fabric 

            function initCanvas(){
                canvas = new fabric.Canvas('canvasBox');
                canvas.isDrawingMode = true;
                canvas.freeDrawingBrush.width = bThick;
                canvas.freeDrawingBrush.color = cColour;
                canvas.backgroundColor = '#000000';            
            }
        

            window.onload = function(){
                initCanvas();
                // submit button
                var btnsub = document.getElementById('btnSubmit');
                btnsub.addEventListener('click', handleImage());
            };
            
        
            function handleImage(){                        
                var imgURL = canvas.toDataURL();   
                
                    // $.get( "/getmethod/"+ (imgURL) )
                    $.post( "/postmethod", {javascript_data: imgURL }); 
                     
            };

            function redirect(){ 
                var base_url = window.location.origin;                       
                var url= base_url + '/result'; 
                window.location = url; 
                     
            };


        </script>


</head>
<!--end of head -->


    <body> 

        <nav>
            <div class="nav-wrapper">
              <a href="#" class="brand-logo center">Digit Reader</a>
              <ul id="nav-mobile" class="left hide-on-med-and-down">
                <!-- <li><a href="sass.html">Sass</a></li>
                <li><a href="badges.html">Components</a></li>
                <li><a href="collapsible.html">JavaScript</a></li> -->
              </ul>
            </div>
          </nav>
        
          <!-- <div class="row">
            <div class="col s7 push-s5"><span class="flow-text">This div is 7-columns wide on pushed to the right by 5-columns.</span></div>
            <div class="col s5 pull-s7"><span class="flow-text">5-columns wide pulled to the left by 7-columns.</span></div>
          </div> -->
        <div class="container">
            <div class="row">
                <div class="col s6 "">
                  <div class="card-panel  red lighten-2 z-depth-5 " style="width:450px;">
                    <div class="card-content white-text">
                      <span class="card-title"><h3>Draw a number </h3></span>
                      <canvas id="canvasBox" position="absolute" width="400" height="400" style="border: 1px solid whitesmoke;" ></canvas>
                    </div>
                    <div class="card-action">
                        <button style="margin:5px;" class= "waves-effect waves-light btn-large" onclick="handleImage();">Submit</button>
                         
                        <button style="margin:5px;" class="waves-effect waves-light btn-large" onclick= "redirect();">Analyse</button>
    
                    </div>
                  </div>
                </div>
                    <!-- description -->
                    <div class="col s6 " flow-text"><blockquote><h4><p>
                        Digit Reader is an app which can identify handwritten digits by using deep learning. This application is powered by a convolutional neural network which was trained on 60,000 handwritten digits images [MNIST Dataset].


                    </p></h4></blockquote></div>

              </div>
             
        </div>

        
        
        

        <footer class="page-footer" style="position:fixed;bottom:0;left:0;width:100%;">
            <div class="container">
              <div class="row">
                <div class="col l6 s12">
                  <a href="https://github.com/AvikantSrivastava/Handwritten-digits-recognition"><h5 class="white-text">Project Link</h5></a>
                  <p class="grey-text text-lighten-4">Feel free to add on this project.</p>
                </div>
                <div class="col l4 offset-l2 s12">
                  <h5 class="white-text">Find me on Github</h5>
                  <ul>
                    <li><a class="grey-text text-lighten-3" href="https://github.com/AvikantSrivastava">Avikant Srivastava</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="footer-copyright">
              <div class="container">
              Â© 2020 Copyright Avikant Srivastava
              <!-- <a class="grey-text text-lighten-4 right" href="#!">More Links</a> -->
              </div>
            </div>
          </footer>
          
    </body>

</html>
